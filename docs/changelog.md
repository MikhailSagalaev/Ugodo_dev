## [2024-07-31] - Рефакторинг главной страницы: Hero компонент и удаление InfoBlock
### Изменено
- На главной странице (`src/app/[countryCode]/(main)/page.tsx`) компонент `HeroBanner` (`@modules/layout/components/hero-banner`) заменен на компонент `Hero` (`@modules/home/components/hero`). Компонент `Hero` представляет собой карусель с захардкоженными данными.
- Исправлена ошибка линтера в `src/app/[countryCode]/(main)/page.tsx` (параметр `limit` для `listCollections` теперь строковый).

### Удалено
- Удален компонент `HeroBanner` (`src/modules/layout/components/hero-banner/index.tsx`) и его директория, так как он был заменен.
- Удален компонент `InfoBlock` (`src/modules/home/components/info-block/index.tsx`) и его директория, так как блок "О Ugodo" убран с главной страницы.

## [2024-07-30] - Реализация блоков главной страницы: Hero Banner, Популярные категории, Новинки, Хиты продаж, Акции, Бренды и Инфо-блок
### Добавлено
- Создан новый компонент `HeroBanner` (`src/modules/layout/components/hero-banner/index.tsx`) для отображения главного баннера.
- Компонент `HeroBanner` интегрирован на главную страницу (`src/app/[countryCode]/(main)/page.tsx`), заменяя предыдущий компонент `Hero`.
- В `HeroBanner` реализована базовая верстка и передача статических данных.
- Создан новый компонент `PopularCategories` (`src/modules/home/components/popular-categories/index.tsx`) для отображения популярных категорий.
- Реализовано получение данных о категориях (верхнеуровневые, активные, не внутренние) с помощью `listCategories`.
- Компонент `PopularCategories` интегрирован на главную страницу.
- Создана функция `getTagByValue` в `src/lib/data/tags.ts` для получения ID тега по его значению.
- Создан новый компонент `FeaturedBrands` (`src/modules/home/components/featured-brands/index.tsx`) для отображения избранных брендов.
- Компонент `FeaturedBrands` интегрирован на главную страницу, добавлено получение данных о коллекциях.
- Создан новый компонент `InfoBlock` (`src/modules/home/components/info-block/index.tsx`) со статическим контентом (О нас / Преимущества).
- Компонент `InfoBlock` интегрирован на главную страницу.

### Изменено
- Обновлен `docs/tasktracker.md`: задача "Улучшение главной страницы" детализирована, отмечены выполненные шаги по реализации блоков Hero Banner, Популярные категории, Новинки, Хиты продаж, Специальные акции, Бренды и Контентный блок.
- В компоненте `PopularCategories` исправлен тип для категорий на `HttpTypes.StoreProductCategory`.
- Проанализирован существующий блок "Новинки" на главной странице: его реализация с использованием компонента `ProductSection` (горизонтальная карусель) признана соответствующей требованиям.
- Обновлена логика получения товаров для блока "Хиты продаж" на главной странице (`src/app/[countryCode]/(main)/page.tsx`): теперь товары фильтруются по тегу `bestseller` (ID тега получается через `getTagByValue`). Заголовок блока и ссылка обновлены.
- Проанализирован существующий блок "Специальные акции / Промо-блоки" (`PromotionsSlider`): его реализация с использованием Embla Carousel и статических данных признана соответствующей требованиям.
- В компоненте `FeaturedBrands` исправлена логика получения URL изображения бренда (используется `metadata?.logo_url`) и уровень заголовка.

### Исправлено
- В `src/app/[countryCode]/(main)/page.tsx` добавлен импорт `HttpTypes` и исправлена обработка ошибок при получении коллекций для `FeaturedBrands`.
- *Примечание по типизации:* Для передачи параметра `tags: [tagId]` в `listProducts` на главной странице использовано приведение типа `as any` из-за возможных несоответствий в `HttpTypes.StoreProductParams`. Это требует дополнительного изучения.

## [2024-07-29] - Улучшение страницы товара и документации

### Добавлено
- В `tailwind.config.js` добавлен новый фирменный цвет `ugodo` (#BAFF29) и его оттенки.
- На страницу товара в `src/modules/products/components/product-tabs/index.tsx` добавлен новый таб "Отзывы", использующий существующий компонент `ProductReviews`.

### Изменено
- Цвет подчеркивания активного таба на странице товара изменен на `border-ugodo` (`#BAFF29`) в `src/modules/products/components/product-tabs/index.tsx`.
- Таб "Описание" на странице товара переименован в "Описание и характеристики" и дополнен выводом основных характеристик товара (артикул, вес, габариты, материал, страна происхождения) в `src/modules/products/components/product-tabs/index.tsx`.
- Таб "Доставка и возврат" на странице товара переименован в "Доставка, оплата и возврат" и дополнен информацией об оплате и более подробной информацией о доставке и возврате в `src/modules/products/components/product-tabs/index.tsx`.
- Таб "О бренде" на странице товара (`src/modules/products/components/product-tabs/index.tsx`) доработан: добавлена ссылка на страницу бренда, отображение логотипа и описания бренда из метаданных коллекции (если они доступны).
- Галерея изображений товара (`src/modules/products/components/product-gallery/index.tsx`) адаптирована для мобильных устройств:
  - На экранах < 768px миниатюры отображаются горизонтально под основным изображением; основное изображение и миниатюры занимают всю ширину.
  - Реализовано открытие изображений на весь экран в модальном окне (с использованием Headless UI Dialog и Embla Carousel) с навигацией и кнопкой закрытия для мобильных устройств.
- На странице товара (`src/modules/products/templates/index.tsx`) добавлены горизонтальные отступы (`px-4`) для основных контентных блоков на мобильных устройствах.
- Актуализированы задачи в `tasktracker.md` по странице товара.

### Исправлено
- Исправлена ошибка типизации опций для Embla Carousel в `src/modules/products/components/product-gallery/index.tsx`.
- В `ProductGallery` использование `selectedSnap()` вместо `selectedScrollSnap()` для более точного определения активного слайда в `onSelect`.
- Исправлена ошибка импорта `LocalizedClientLink` в `src/modules/products/components/product-tabs/index.tsx` в табе "О бренде".

## [2024-07-28] - Расширение документации и формирование роадмапа
### Добавлено
- В `docs/tasktracker.md` добавлены новые задачи на основе анализа проекта и сайта-примера (goldapple.ru):
  - Улучшение главной страницы
  - Реализация списка желаний (Wishlist)
  - Расширенная система отзывов о товарах
  - Интеграция с платежными системами
  - Настройка системы уведомлений (Email)
  - Улучшение страницы товара (общая задача, детализирована позже)
  - Базовая программа лояльности
  - Улучшение поиска товаров
  - Создание контентных разделов (Блог/Статьи)
- В `docs/project.md` добавлен раздел "План развития и будущие функции (Roadmap High-Level)".

### Изменено
- Актуализирован `docs/tasktracker.md`:
  - Задача "Реализация логики для страницы 'Бестселлеры'" отмечена как завершенная (на текущем этапе).
  - Задача "Создание страниц каталога по аналогии со /store" уточнено описание, статус "Завершена".
  - Подзадача "Формирование роадмапа" в задаче "Настройка и документирование проекта Ugodo" отмечена как выполненная.
- Актуализирован `docs/project.md`:
  - Обновлена информация о существующих страницах каталога (`/brands`, `/new-arrivals`, `/bestsellers`).
  - Уточнена структура модулей фронтенда.
  - Обновлена архитектурная диаграмма Mermaid.
  - Добавлены потенциальные пункты для бэкенда (Уведомления, Программа лояльности, Платежная система - к уточнению).
  - Уточнен технологический стек.

### Исправлено
- (Нет значимых исправлений в этом обновлении, связанных с кодом)

## [2024-03-21] - Диагностика и исправление ошибок после развертывания
### Добавлено
- Зафиксированы ошибки, возникшие при развертывании на сервере.

### Изменено
- Начата работа по устранению ошибок авторизации, обработки параметров маршрутизации и запросов к API.
- Обновлен `tasktracker.md` с текущим статусом исправления ошибок.
- Установлен `data-mode="light"` в корневом `layout.tsx` для консистентности.
- Компоненты `PopularCategories` и `FeaturedBrands` сделаны клиентскими (`"use client";`) для корректной работы `onError`.

### Исправлено
- Устранена ошибка "Unrecognized fields" при запросе категорий путем удаления полей `is_active` и `is_internal`.
- Потенциально исправлена ошибка Hydration Mismatch, связанная с `data-mode`.
- Потенциально исправлена ошибка `Event handlers cannot be passed to Client Component props`.

## [YYYY-MM-DD] - Краткое описание изменений
### Добавлено
- Описание новых функций

### Изменено
- Описание модификаций

### Исправлено
- Описание исправлений 